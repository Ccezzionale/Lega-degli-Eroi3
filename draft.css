// 1. Suddividi le squadre in 2 righe da 4 squadre
function aggiornaChiamatePerSquadra() {
  const righe = document.querySelectorAll("#tabella-pick tbody tr");
  const riepilogo = {};

  righe.forEach(r => {
    const celle = r.querySelectorAll("td");
    const team = celle[1]?.textContent?.trim();
    const nome = celle[2]?.textContent?.trim();
    const ruolo = celle[3]?.textContent?.trim();
    if (!team || !nome) return;
    if (!riepilogo[team]) riepilogo[team] = [];
    riepilogo[team].push(`${riepilogo[team].length + 1}. ${nome} (${ruolo})`);
  });

  const container = document.getElementById("riepilogo-squadre");
  container.innerHTML = "";

  const squadre = Object.entries(riepilogo);
  const metÃ  = Math.ceil(squadre.length / 2);

  [squadre.slice(0, metÃ ), squadre.slice(metÃ )].forEach(riga => {
    const rowDiv = document.createElement("div");
    rowDiv.className = "riepilogo-row";
    riga.forEach(([team, picks]) => {
      const div = document.createElement("div");
      div.className = "riepilogo-team";
      const logoPath = `img/${team}.png`;
      const img = document.createElement("img");
      img.src = logoPath;
      img.alt = team;
      img.className = "riepilogo-logo";
      div.appendChild(img);
      const h4 = document.createElement("h4");
      h4.textContent = team;
      div.appendChild(h4);
      picks.forEach(txt => {
        const riga = document.createElement("div");
        riga.textContent = txt;
        div.appendChild(riga);
      });
      rowDiv.appendChild(div);
    });
    container.appendChild(rowDiv);
  });
}

// 2. Aggiungi bottone di ricarica in HTML dove vuoi:
// <button onclick="aggiornaChiamatePerSquadra()">ðŸ”„ Ricarica Riepilogo</button>

// 3. E nel CSS (main.css o draft.css):
/*
.riepilogo-row {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
}

.riepilogo-logo {
  max-width: 60px;
  margin: 0 auto 8px;
  display: block;
}
*/
